<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/media/audio/trompete/style.css">
    <script src="/media/audio/trompete/script.js" defer></script>
    <title>Teste Subjetivo</title>
</head>
<body>
    <!-- Modal de Boas-Vindas -->
    <div id="welcomeModal" aria-labelledby="modalTitle" role="dialog">
        <div id="modalContent">
            <h1 id="modalTitle">Análise da qualidade da execução da flexibilidade no trompete</h1>
            <p>Prezado participante, obrigado por colaborar com nossa pesquisa...</p>
            <p>Certifique-se de ouvir o áudio completo, pois há uma pausa entre as sequências de notas.</p>
            <p>Caso queira, é possível requisitar que seus dados sejam removidos enviando um e-mail ao pesquisador 
                <a href="mailto:gustavomacholi@gmail.com">gustavomacholi@gmail.com</a>.
            </p>
            <button id="closeModalBtn" aria-label="Fechar o modal">Entendido</button>
        </div>
    </div>

    <!-- Conteúdo Principal -->
    <main>
        <h1>Teste Subjetivo</h1>
        <section id="instrucoes-teste" style="display:none;">
            <p>Escute atentamente cada áudio e avalie os critérios abaixo...</p>
        </section>

        <!-- Informações do Participante -->
        <section id="participant-info">
            <h2>Informações do Avaliador</h2>
            <form id="participantForm">
                <label for="nome">Nome:</label>
                <input type="text" id="nome" required /><br>

                <label for="idade">Idade:</label><br>
                <input type="number" id="idade" min="1" required /><br>

                <label for="email">E-mail:</label><br>
                <input type="email" id="email" required /><br>

                <label for="anos-estudo">Quantos anos você toca trompete profissionalmente?</label>
                <input type="number" id="anos-estudo" min="0" placeholder="Ex.: 3" /><br>

                <label for="atuacao">Qual a sua atuação profissional?</label><br>
                <input type="text" id="atuacao" placeholder="Ex.: Professor, Músico, Pesquisador..." /><br>

                <fieldset>
                    <legend>Qual sua formação? (Você pode marcar mais de uma opção)</legend>
                    <label><input type="checkbox" id="formacao-conservatorio" name="formacao" value="Conservatório" /> Conservatório</label><br>
                    <label><input type="checkbox" id="formacao-escola" name="formacao" value="Escola de Música Municipal ou Estadual" /> Escola de Música Municipal ou Estadual</label><br>
                    <label><input type="checkbox" id="formacao-academia" name="formacao" value="Academia de Música" /> Academia de Música</label><br>
                    <label><input type="checkbox" id="formacao-mestrado" name="formacao" value="Mestrado" /> Mestrado</label><br>
                    <label><input type="checkbox" id="formacao-outros" name="formacao" value="outros" onclick="toggleOutroText()" /> Outros</label><br>
                    <input type="text" id="outros-texto" name="outros-texto" placeholder="Especifique..." style="display:none;">
                </fieldset>

                <label for="data">Data:</label>
                <input type="date" id="data" required /><br>

                <button type="button" class="button5" onclick="iniciarTeste()">Iniciar</button>
            </form>
        </section>

        <!-- Teste -->
        <section id="test-container" class="hidden">
            <div class="container">
                <img id="image" src="" alt="Imagem do áudio">
                <audio id="audio" controls preload="auto"></audio>
                <div>
                    <p id="pergunta">Pergunta 1: Como você avalia este áudio?</p>
                    <p class="answer" id="selectAnswer" style="margin-bottom: 20px;">Resposta: Nenhuma</p>
                    <div class="buttons">
                        <button class="button5" id="button-1" onclick="selectAnswer(1)">1</button>
                        <button class="button5" id="button-2" onclick="selectAnswer(2)">2</button>
                        <button class="button5" id="button-3" onclick="selectAnswer(3)">3</button>
                        <button class="button5" id="button-4" onclick="selectAnswer(4)">4</button>
                        <button class="button5" id="button-5" onclick="selectAnswer(5)">5</button>
                    </div>
                    <button class="button5" onclick="proximoAudio()">Ok</button>
                </div>

                <!-- Críticas -->
                <div id="form-critica" style="display: none;">
                    <label for="critica">Você tem alguma dica ou crítica sobre o conteúdo apresentado neste formulário?</label><br>
                    <textarea id="critica" name="critica" rows="4" cols="50" placeholder="Digite sua crítica ou sugestão aqui..."></textarea>
                    <button id="enviar-critica-btn" onclick="finalizarTeste()">Enviar Crítica</button>
                </div>

                <button id="exportar-btn" class="hidden" onclick="exportarResultados()">Exportar Resultados</button>
                <button id="enviarEmail-btn" class="hidden">Enviar Resultados por E-mail</button>
            </div>
        </section>
    </main>
</body>
</html>
